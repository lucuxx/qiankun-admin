{"remainingRequest":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/babel-loader/lib/index.js!/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/typescript-vue-demo/src/views/comment/commentNav.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/src/views/comment/commentNav.vue","mtime":1559814856150},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.function.name\";\nimport _classCallCheck from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _applyDecoratedDescriptor from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/initializerWarningHelper\";\n\nvar _class, _class2, _descriptor, _temp;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Vue, Component } from 'vue-property-decorator';\nimport { Getter } from 'vuex-class';\n\nvar commentNav = Component(_class = (_class2 = (_temp =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(commentNav, _Vue);\n\n  function commentNav() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, commentNav);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(commentNav)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"user\", _initializerWarningHelper(_descriptor, _assertThisInitialized(_this)));\n\n    _defineProperty(_assertThisInitialized(_this), \"commentValue\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"loading\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"defaultUrl\", 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3913721637,490556209&fm=27&gp=0.jpg');\n\n    return _this;\n  }\n\n  _createClass(commentNav, [{\n    key: \"goComment\",\n    value: function goComment() {\n      var _this2 = this;\n\n      if (this.user && this.$lo.size(this.user) !== 0) {\n        this.loading = true;\n        var params = {\n          time: this.moment().format('YYYY-MM-DD'),\n          value: this.commentValue,\n          userName: this.user.name,\n          url: !!this.user.url ? this.user.url : this.defaultUrl,\n          os: this.Os,\n          browse: this.Browse,\n          isReply: false\n        };\n        this.$api.sendComment(params).then(function (req) {\n          _this2.$message({\n            type: req.data.code === 0 ? 'success' : 'error',\n            message: req.data.data.message\n          });\n\n          _this2.$emit('commit', _this2.loading);\n\n          _this2.commentValue = null;\n        }).catch(function (err) {\n          if (err) {\n            _this2.$message({\n              type: 'error',\n              message: err\n            });\n          }\n        });\n      } else {\n        this.$message('请先登录');\n        this.commentValue = null;\n      }\n    } // 获取操作系统\n\n  }, {\n    key: \"Os\",\n    get: function get() {\n      var sUserAgent = navigator.userAgent;\n      var isWin = navigator.platform === \"Win32\" || navigator.platform === \"Windows\";\n      var isMac = navigator.platform === \"Mac68K\" || navigator.platform === \"MacPPC\" || navigator.platform === \"Macintosh\" || navigator.platform === \"MacIntel\";\n      if (isMac) return \"Mac\";\n      var isUnix = navigator.platform === \"X11\" && !isWin && !isMac;\n      if (isUnix) return \"Unix\";\n      var isLinux = String(navigator.platform).indexOf(\"Linux\") > -1;\n      if (isLinux) return \"Linux\";\n\n      if (isWin) {\n        var isWin2K = sUserAgent.indexOf(\"Windows NT 5.0\") > -1 || sUserAgent.indexOf(\"Windows 2000\") > -1;\n        if (isWin2K) return \"Win2000\";\n        var isWinXP = sUserAgent.indexOf(\"Windows NT 5.1\") > -1 || sUserAgent.indexOf(\"Windows XP\") > -1;\n        if (isWinXP) return \"WinXP\";\n        var isWin2003 = sUserAgent.indexOf(\"Windows NT 5.2\") > -1 || sUserAgent.indexOf(\"Windows 2003\") > -1;\n        if (isWin2003) return \"Win2003\";\n        var isWinVista = sUserAgent.indexOf(\"Windows NT 6.0\") > -1 || sUserAgent.indexOf(\"Windows Vista\") > -1;\n        if (isWinVista) return \"WinVista\";\n        var isWin7 = sUserAgent.indexOf(\"Windows NT 6.1\") > -1 || sUserAgent.indexOf(\"Windows 7\") > -1;\n        if (isWin7) return \"Win7\";\n        var isWin10 = sUserAgent.indexOf(\"Windows NT 10\") > -1 || sUserAgent.indexOf(\"Windows 10\") > -1;\n        if (isWin10) return \"Win10\";\n      }\n\n      return \"other\";\n    }\n  }, {\n    key: \"Browse\",\n    get: function get() {\n      var browser = {};\n      var userAgent = navigator.userAgent.toLowerCase();\n      var s;\n      (s = userAgent.match(/msie ([\\d.]+)/)) ? browser.ie = s[1] : (s = userAgent.match(/firefox\\/([\\d.]+)/)) ? browser.firefox = s[1] : (s = userAgent.match(/chrome\\/([\\d.]+)/)) ? browser.chrome = s[1] : (s = userAgent.match(/opera.([\\d.]+)/)) ? browser.opera = s[1] : (s = userAgent.match(/version\\/([\\d.]+).*safari/)) ? browser.safari = s[1] : 0;\n      var version = \"\";\n\n      if (browser.ie) {\n        version = 'IE ' + browser.ie;\n      } else {\n        if (browser.firefox) {\n          version = 'firefox ' + browser.firefox;\n        } else {\n          if (browser.chrome) {\n            version = 'chrome ' + browser.chrome;\n          } else {\n            if (browser.opera) {\n              version = 'opera ' + browser.opera;\n            } else {\n              if (browser.safari) {\n                version = 'safari ' + browser.safari;\n              } else {\n                version = '未知浏览器';\n              }\n            }\n          }\n        }\n      }\n\n      return version;\n    }\n  }]);\n\n  return commentNav;\n}(Vue), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"user\", [Getter], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class;\n\nexport { commentNav as default };",{"version":3,"sources":["commentNav.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <section class=\"commentNav\">\n        <el-input\n                style=\"width: 100%;\"\n                type=\"textarea\"\n                :autosize=\"{ minRows: 5}\"\n                placeholder=\"少侠请留步,快来吐槽点什么鸭...\"\n                v-model=\"commentValue\">\n        </el-input>\n        <el-button style=\"display: block;margin-top: 10px;width: 80px\" type=\"primary\" @click.native=\"goComment\">\n            发送\n        </el-button>\n    </section>\n</template>\n\n<script>\n    import {Vue, Component} from 'vue-property-decorator'\n    import {Getter} from 'vuex-class'\n    @Component\n    export default class commentNav extends Vue {\n        @Getter user\n        commentValue = null\n        loading = false\n        defaultUrl = 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3913721637,490556209&fm=27&gp=0.jpg'\n\n\n        goComment() {\n            if(this.user && this.$lo.size(this.user) !== 0){\n                this.loading = true\n                const params = {\n                    time: this.moment().format('YYYY-MM-DD'),\n                    value: this.commentValue,\n                    userName: this.user.name,\n                    url: !!this.user.url ? this.user.url : this.defaultUrl,\n                    os: this.Os,\n                    browse: this.Browse,\n                    isReply: false,\n                }\n                this.$api.sendComment(params).then(req => {\n                    this.$message({\n                        type: req.data.code === 0 ? 'success' : 'error',\n                        message: req.data.data.message\n                    })\n                    this.$emit('commit',this.loading)\n                    this.commentValue = null\n                }).catch(err => {\n                    if (err) {\n                        this.$message({\n                            type: 'error',\n                            message: err\n                        })\n                    }\n                })\n            }else{\n                this.$message('请先登录')\n                this.commentValue = null\n            }\n\n        }\n\n        // 获取操作系统\n        get Os() {\n            const sUserAgent = navigator.userAgent;\n            const isWin = (navigator.platform === \"Win32\") || (navigator.platform === \"Windows\");\n            const isMac = (navigator.platform === \"Mac68K\") || (navigator.platform === \"MacPPC\") || (navigator.platform === \"Macintosh\") || (navigator.platform === \"MacIntel\");\n            if (isMac) return \"Mac\";\n            const isUnix = (navigator.platform === \"X11\") && !isWin && !isMac;\n            if (isUnix) return \"Unix\";\n            const isLinux = (String(navigator.platform).indexOf(\"Linux\") > -1);\n            if (isLinux) return \"Linux\";\n            if (isWin) {\n                const isWin2K = sUserAgent.indexOf(\"Windows NT 5.0\") > -1 || sUserAgent.indexOf(\"Windows 2000\") > -1;\n                if (isWin2K) return \"Win2000\";\n                const isWinXP = sUserAgent.indexOf(\"Windows NT 5.1\") > -1 || sUserAgent.indexOf(\"Windows XP\") > -1;\n                if (isWinXP) return \"WinXP\";\n                const isWin2003 = sUserAgent.indexOf(\"Windows NT 5.2\") > -1 || sUserAgent.indexOf(\"Windows 2003\") > -1;\n                if (isWin2003) return \"Win2003\";\n                const isWinVista = sUserAgent.indexOf(\"Windows NT 6.0\") > -1 || sUserAgent.indexOf(\"Windows Vista\") > -1;\n                if (isWinVista) return \"WinVista\";\n                const isWin7 = sUserAgent.indexOf(\"Windows NT 6.1\") > -1 || sUserAgent.indexOf(\"Windows 7\") > -1;\n                if (isWin7) return \"Win7\";\n                const isWin10 = sUserAgent.indexOf(\"Windows NT 10\") > -1 || sUserAgent.indexOf(\"Windows 10\") > -1;\n                if (isWin10) return \"Win10\";\n            }\n            return \"other\";\n        }\n\n        get Browse() {\n            const browser = {};\n            const userAgent = navigator.userAgent.toLowerCase();\n            let s;\n            (s = userAgent.match(/msie ([\\d.]+)/)) ? browser.ie = s[1] : (s = userAgent.match(/firefox\\/([\\d.]+)/)) ? browser.firefox = s[1] : (s = userAgent.match(/chrome\\/([\\d.]+)/)) ? browser.chrome = s[1] : (s = userAgent.match(/opera.([\\d.]+)/)) ? browser.opera = s[1] : (s = userAgent.match(/version\\/([\\d.]+).*safari/)) ? browser.safari = s[1] : 0;\n            let version = \"\";\n            if (browser.ie) {\n                version = 'IE ' + browser.ie;\n            } else {\n                if (browser.firefox) {\n                    version = 'firefox ' + browser.firefox;\n                } else {\n                    if (browser.chrome) {\n                        version = 'chrome ' + browser.chrome;\n                    } else {\n                        if (browser.opera) {\n                            version = 'opera ' + browser.opera;\n                        } else {\n                            if (browser.safari) {\n                                version = 'safari ' + browser.safari;\n                            } else {\n                                version = '未知浏览器';\n                            }\n                        }\n                    }\n                }\n            }\n            return version;\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    .commentNav{\n\n    }\n</style>"],"sourceRoot":"src/views/comment"}]}