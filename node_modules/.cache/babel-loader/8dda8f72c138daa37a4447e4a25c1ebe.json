{"remainingRequest":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/babel-loader/lib/index.js!/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/typescript-vue-demo/src/views/comment/commentContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/src/views/comment/commentContent.vue","mtime":1559818186142},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _initializerDefineProperty from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/initializerDefineProperty\";\nimport _assertThisInitialized from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport _applyDecoratedDescriptor from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/@babel/runtime-corejs2/helpers/esm/initializerWarningHelper\";\n\nvar _dec, _class, _class2, _descriptor, _descriptor2, _temp;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Vue, Component, Prop } from 'vue-property-decorator';\nimport { Getter } from 'vuex-class';\nvar comment = (_dec = Prop(Array), Component(_class = (_class2 = (_temp =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inheritsLoose(comment, _Vue);\n\n  function comment() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Vue.call.apply(_Vue, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_this, \"user\", _descriptor, _assertThisInitialized(_this));\n\n    _this.reply = '';\n    _this.loading = true;\n\n    _initializerDefineProperty(_this, \"body\", _descriptor2, _assertThisInitialized(_this));\n\n    _this.defaultUrl = 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3913721637,490556209&fm=27&gp=0.jpg';\n    return _this;\n  }\n\n  var _proto = comment.prototype;\n\n  // 发送回复信息\n  _proto.goSendReply = function goSendReply(item) {\n    var _this2 = this;\n\n    item.isReply = false;\n    var params = {\n      time: this.moment().format('YYYY-MM-DD'),\n      value: \"@\" + item.userName + \",\" + this.reply,\n      userName: this.user.name,\n      url: !!this.user.url ? this.user.url : this.defaultUrl,\n      os: this.Os,\n      browse: this.Browse,\n      isReply: false\n    };\n    this.$api.sendReply({\n      id: item.id,\n      reply: params\n    }).then(function (req) {\n      _this2.$message({\n        type: req.data.code === 200 ? 'success' : 'error',\n        message: req.data.data\n      });\n\n      _this2.$emit('success', _this2.loading);\n\n      _this2.reply = null;\n    });\n  };\n\n  _proto.goReply = function goReply(item, i) {\n    var _this3 = this;\n\n    i.isReply = false;\n    var params = {\n      time: this.moment().format('YYYY-MM-DD'),\n      value: \"@\" + i.userName + \",\" + this.reply,\n      userName: this.user.name,\n      url: !!this.user.url ? this.user.url : this.defaultUrl,\n      os: this.Os,\n      browse: this.Browse,\n      isReply: false\n    };\n    this.$api.sendReply({\n      id: item.id,\n      reply: params\n    }).then(function (req) {\n      _this3.$message({\n        type: req.data.code === 200 ? 'success' : 'error',\n        message: req.data.data\n      });\n\n      _this3.$emit('success', true);\n\n      _this3.reply = null;\n    });\n  };\n\n  return comment;\n}(Vue), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"user\", [Getter], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"body\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexport { comment as default };",{"version":3,"sources":["commentContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,SAAA,GAAA,EAAA,SAAA,EAAA,IAAA,QAAA,wBAAA;AACA,SAAA,MAAA,QAAA,YAAA;IAGA,O,WAKA,IAAA,CAAA,KAAA,C,EANA,S;;;;;;;;;;;;;;;;UAGA,K,GAAA,E;UACA,O,GAAA,I;;;;UAGA,U,GAAA,+F;;;;;;AAIA;SACA,W,GAAA,qBAAA,IAAA,EAAA;AAAA;;AACA,IAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,MAAA,GAAA;AACA,MAAA,IAAA,EAAA,KAAA,MAAA,GAAA,MAAA,CAAA,YAAA,CADA;AAEA,MAAA,KAAA,QAAA,IAAA,CAAA,QAAA,SAAA,KAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAAA,IAAA,CAAA,IAHA;AAIA,MAAA,GAAA,EAAA,CAAA,CAAA,KAAA,IAAA,CAAA,GAAA,GAAA,KAAA,IAAA,CAAA,GAAA,GAAA,KAAA,UAJA;AAKA,MAAA,EAAA,EAAA,KAAA,EALA;AAMA,MAAA,MAAA,EAAA,KAAA,MANA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,SAAA,IAAA,CAAA,SAAA,CAAA;AAAA,MAAA,EAAA,EAAA,IAAA,CAAA,EAAA;AAAA,MAAA,KAAA,EAAA;AAAA,KAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,GAAA,SAAA,GAAA,OADA;AAEA,QAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAFA,OAAA;;AAIA,MAAA,MAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA,CAAA,OAAA;;AACA,MAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,KAPA;AAQA,G;;SAGA,O,GAAA,iBAAA,IAAA,EAAA,CAAA,EAAA;AAAA;;AACA,IAAA,CAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,MAAA,GAAA;AACA,MAAA,IAAA,EAAA,KAAA,MAAA,GAAA,MAAA,CAAA,YAAA,CADA;AAEA,MAAA,KAAA,QAAA,CAAA,CAAA,QAAA,SAAA,KAAA,KAFA;AAGA,MAAA,QAAA,EAAA,KAAA,IAAA,CAAA,IAHA;AAIA,MAAA,GAAA,EAAA,CAAA,CAAA,KAAA,IAAA,CAAA,GAAA,GAAA,KAAA,IAAA,CAAA,GAAA,GAAA,KAAA,UAJA;AAKA,MAAA,EAAA,EAAA,KAAA,EALA;AAMA,MAAA,MAAA,EAAA,KAAA,MANA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,SAAA,IAAA,CAAA,SAAA,CAAA;AAAA,MAAA,EAAA,EAAA,IAAA,CAAA,EAAA;AAAA,MAAA,KAAA,EAAA;AAAA,KAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,GAAA,SAAA,GAAA,OADA;AAEA,QAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAFA,OAAA;;AAIA,MAAA,MAAA,CAAA,KAAA,CAAA,SAAA,EAAA,IAAA;;AACA,MAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,KAPA;AAQA,G;;;EApDA,G,gFACA,M;;;;;;;;;;;SADA,O","sourcesContent":["<template>\n    <section class=\"commentContent\">\n        <div v-for=\"(item,index) in body\" :key=\"index\" class=\"text item\">\n            <section class=\"flex\">\n                <div class=\"heightAdapt left\">\n                    <img class=\"img\" :src=\"item.url\" alt=\"\">\n                </div>\n                <div class=\"right\">\n                    <section class=\"head\">\n                        <p class=\"top\">\n                            <span class=\"head_meg\">{{ item.userName }}</span>\n                            <span class=\"os\">{{ item.Os }}</span>\n                            <span class=\"os\">{{ item.browse }}</span>\n                        </p>\n                        <p class=\"bottom\">\n                            <span>{{ item.time }}</span>\n                            <el-button type=\"text\" class=\"floatRight\" @click.native=\"item.isReply = !item.isReply\">回复\n                            </el-button>\n                        </p>\n                    </section>\n                    <section class=\"content\">\n                        <p style=\"text-indent: 25px;\">{{ item.value }}</p>\n                    </section>\n                    <section class=\"content\" v-show=\"item.isReply\">\n                        <el-input\n                                style=\"width: 100%;\"\n                                type=\"textarea\"\n                                :autosize=\"{ minRows: 5}\"\n                                placeholder=\"说点什么呢...\"\n                                v-model=\"reply\">\n                        </el-input>\n                        <el-button style=\"display: block;margin-top: 10px;width: 80px\" type=\"primary\"\n                                   @click=\"goSendReply(item)\">发送\n                        </el-button>\n                    </section>\n                    <section class=\"content\">\n                        <section v-if=\"item.reply && !_.isEmpty(item.reply)\">\n                            <div v-for=\"(i,id) in item.reply\" :key=\"id\" class=\"text item\">\n                                <section class=\"flex\">\n                                    <div class=\"heightAdapt left\">\n                                        <img class=\"img\" :src=\"i.url\" alt=\"\">\n                                    </div>\n                                    <div class=\"right\">\n                                        <section class=\"head\">\n                                            <p class=\"top\">\n                                                <span class=\"head_meg\">{{ i.userName }}</span>\n                                                <span class=\"os\">{{ i.Os }}</span>\n                                                <span class=\"os\">{{ i.browse }}</span>\n                                            </p>\n                                            <p class=\"bottom\">\n                                                <span>{{ i.time }}</span>\n                                                <el-button type=\"text\" class=\"floatRight\"\n                                                           @click.native=\"i.isReply = !i.isReply\">回复\n                                                </el-button>\n                                            </p>\n                                        </section>\n                                        <section class=\"content\">\n                                            <p style=\"text-indent: 25px;\">{{ i.value }}</p>\n                                        </section>\n                                        <section class=\"content\" v-show=\"i.isReply\">\n                                            <el-input\n                                                    style=\"width: 100%;\"\n                                                    type=\"textarea\"\n                                                    :autosize=\"{ minRows: 5}\"\n                                                    placeholder=\"说点什么呢...\"\n                                                    v-model=\"reply\">\n                                            </el-input>\n                                            <el-button style=\"display: block;margin-top: 10px;width: 80px\"\n                                                       type=\"primary\"\n                                                       @click=\"goReply(item,i)\">发送\n                                            </el-button>\n                                        </section>\n                                    </div>\n                                </section>\n                            </div>\n                        </section>\n                    </section>\n                </div>\n            </section>\n        </div>\n    </section>\n</template>\n\n<script>\n\n    import {Vue, Component, Prop} from 'vue-property-decorator'\n    import {Getter} from 'vuex-class'\n\n    @Component\n    export default class comment extends Vue {\n        @Getter user\n        reply = ''\n        loading = true\n\n        @Prop(Array)body\n        defaultUrl = 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3913721637,490556209&fm=27&gp=0.jpg'\n\n\n\n        // 发送回复信息\n        goSendReply(item) {\n            item.isReply = false\n            const params = {\n                time: this.moment().format('YYYY-MM-DD'),\n                value: `@${item.userName},${this.reply}`,\n                userName: this.user.name,\n                url: !!this.user.url ? this.user.url : this.defaultUrl,\n                os: this.Os,\n                browse: this.Browse,\n                isReply: false,\n            }\n            this.$api.sendReply({id: item.id, reply: params}).then(req => {\n                this.$message({\n                    type: req.data.code === 200 ? 'success' : 'error',\n                    message: req.data.data\n                })\n                this.$emit('success', this.loading)\n                this.reply = null\n            })\n        }\n\n\n        goReply(item, i) {\n            i.isReply = false\n            const params = {\n                time: this.moment().format('YYYY-MM-DD'),\n                value: `@${i.userName},${this.reply}`,\n                userName: this.user.name,\n                url: !!this.user.url ? this.user.url : this.defaultUrl,\n                os: this.Os,\n                browse: this.Browse,\n                isReply: false,\n            }\n            this.$api.sendReply({id: item.id, reply: params}).then(req => {\n                this.$message({\n                    type: req.data.code === 200 ? 'success' : 'error',\n                    message: req.data.data\n                })\n                this.$emit('success', true)\n                this.reply = null\n            })\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    @import '../../assets/css/common.less';\n\n    .commentContent {\n        .flex {\n            display: flex;\n\n            .os {\n                color: #999999;\n                font-size: 14px;\n                display: inline-block;\n                margin-left: 20px;\n            }\n        }\n    }\n</style>"],"sourceRoot":"src/views/comment"}]}