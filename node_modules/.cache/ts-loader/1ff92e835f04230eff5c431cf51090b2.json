{"remainingRequest":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js??ref--13-2!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue","mtime":1565254698796},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _createClass from \"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inheritsLoose from \"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport * as tslib_1 from \"tslib\";\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nimport VmMarkdownButton from \"./vm-markdown-button.vue\";\nimport VmMarkdownDropdown from \"./vm-markdown-dropdown.vue\";\nimport _insertText from \"./utils/index.js\";\n\nvar Name =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inheritsLoose(Name, _Vue);\n\n  function Name() {\n    return _Vue.apply(this, arguments) || this;\n  }\n\n  var _proto = Name.prototype;\n\n  _proto.updataImg = function updataImg() {\n    this.$prompt(\"请输入图片地址\", \"提示\", {\n      confirmButtonText: \"确定\",\n      cancelButtonText: \"取消\"\n    }).then(function (_ref) {\n      var value = _ref.value;\n      var imgUrl = \"![image](\" + value + \"#width-full)\";\n      var content = document.querySelector(\".vm-markdown-content\");\n\n      _insertText(content, imgUrl);\n    }).catch(function () {\n      console.log(\"取消输入\");\n    });\n  } // async insertImage(e: any) {\n  //     console.log(e);\n  //     const $target = e.target || e.srcElement;\n  //     console.log($target);\n  //     const file = $target.files[0];\n  //     console.log(file);\n  //\n  //     const type = file.type.split(\"/\")[0];\n  //     console.log(type);\n  //     // console.log(type);\n  //     if (type != \"image\") {\n  //         console.log(\"请上传图片\");\n  //         return;\n  //     }\n  //     const size = Math.round(file.size / 1024 / 1024);\n  //     console.log(size);\n  //     if (size > 3) {\n  //         alert(\"图片大小不得超过3M\");\n  //         return;\n  //     }\n  //\n  //     const reader = new FileReader();\n  //     reader.readAsDataURL(file);\n  //     // const that = this;\n  //     reader.onload = (e: any) => {\n  //         console.log(e.currentTarget.result);\n  //         const imgUrl = `![image](${file.name})`;\n  //         let content: any = document.querySelector(\".vm-markdown-content\");\n  //         insertText(content, imgUrl);\n  //     };\n  //\n  //     // if (!files.length) {\n  //     //     console.log(\"sss\");\n  //     //     return;\n  //     // }\n  //     // let imgUrl = await this.uploadImage(file);\n  //     // console.log(imgUrl);\n  //     // imgUrl = `![image](${imgUrl})`;\n  //     // this.insertText(imgUrl);\n  // }\n\n  /**\n   * 文章发布\n   */\n  ;\n\n  _proto.goPublish = function goPublish() {\n    this.$emit(\"publish\", this.markdwon);\n  };\n\n  _proto.insertText = function insertText(string) {\n    var content = document.querySelector(\".vm-markdown-content\");\n\n    _insertText(content, string);\n\n    this.$emit(\"textChange\", content.value);\n  };\n\n  _proto.setLayout = function setLayout(type) {\n    var VmMarkdown = document.querySelector(\".vm-markdown\");\n    var VmMarkdownEdit = document.querySelector(\".vm-markdown-edit\");\n\n    switch (type) {\n      case \"default\":\n        VmMarkdownEdit.style.width = \"50%\";\n        break;\n\n      case \"right\":\n        VmMarkdownEdit.style.width = \"100%\";\n        break;\n\n      case \"left\":\n        VmMarkdownEdit.style.width = \"0\";\n        break;\n\n      case \"zoom\":\n        if (VmMarkdown.style.position === \"fixed\") {\n          var parent = this.$parent;\n          VmMarkdown.style.cssText = \"\\n                        width: \" + parent.width + \";\\n                        height: \" + parent.height + \";\\n                    \";\n        } else {\n          VmMarkdown.style.cssText = \"\\n                        position: fixed;\\n                        z-index: 999;\\n                        left: 0;\\n                        top: 0;\\n                        margin: 0;\\n                        width: 100%;\\n                        height: 100%;\\n                    \";\n        }\n\n        break;\n    }\n  };\n\n  _proto.mounted = function mounted() {\n    var _this = this;\n\n    var menu = document.querySelector(\".vm-editor-menu\");\n    menu.addEventListener(\"mouseover\", function (evt) {\n      if (evt.target.tagName == \"I\") {\n        evt.target.style.color = _this.hoverColor;\n      }\n    });\n    menu.addEventListener(\"mouseout\", function (evt) {\n      if (evt.target.tagName == \"I\") {\n        evt.target.style.color = \"\";\n      }\n    });\n  };\n\n  _createClass(Name, [{\n    key: \"filterColor\",\n    get: function get() {\n      if (this.bgMenu === \"#fafbfc\") {\n        return \"#232323\";\n      } else {\n        return this.bgMenu;\n      }\n    }\n  }]);\n\n  return Name;\n}(Vue);\n\ntslib_1.__decorate([Prop({\n  type: Function,\n  default: function _default() {\n    return function () {};\n  }\n})], Name.prototype, \"uploadImage\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: \"#fafbfc\"\n})], Name.prototype, \"bgMenu\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: \"1px solid #eeeff1\"\n})], Name.prototype, \"menuBorder\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: \"#858585\"\n})], Name.prototype, \"menuColor\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: \"#232323\"\n})], Name.prototype, \"hoverColor\", void 0);\n\ntslib_1.__decorate([Prop()], Name.prototype, \"markdwon\", void 0);\n\nName = tslib_1.__decorate([Component({\n  components: {\n    VmMarkdownButton: VmMarkdownButton,\n    VmMarkdownDropdown: VmMarkdownDropdown\n  }\n})], Name);\nexport default Name;",{"version":3,"sources":["/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;AAmDA,SAAQ,GAAR,EAAa,SAAb,EAAwB,IAAxB,QAAmC,wBAAnC;AACA,OAAO,gBAAP;AACA,OAAO,kBAAP;AACA,OAAO,WAAP;;AAGA,IAAqB,IAArB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,SAsBc,SAtBd,GAsBc,qBAAS;AACf,SAAK,OAAL,CAAa,SAAb,EAAwB,IAAxB,EAA8B;AAC1B,MAAA,iBAAiB,EAAE,IADO;AAE1B,MAAA,gBAAgB,EAAE;AAFQ,KAA9B,EAGG,IAHH,CAGQ,gBAAiB;AAAA,UAAf,KAAe,QAAf,KAAe;AACrB,UAAM,MAAM,iBAAe,KAAf,iBAAZ;AACA,UAAI,OAAO,GAAQ,QAAQ,CAAC,aAAT,CAAuB,sBAAvB,CAAnB;;AACA,MAAA,WAAU,CAAC,OAAD,EAAU,MAAV,CAAV;AACH,KAPD,EAOG,KAPH,CAOS,YAAK;AACV,MAAA,OAAO,CAAC,GAAR,CAAY,MAAZ;AACH,KATD;AAUH,GAjCL,CAmCI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AA5EJ;;AAAA,SA+EI,SA/EJ,GA+EI,qBAAS;AACL,SAAK,KAAL,CAAW,SAAX,EAAsB,KAAK,QAA3B;AACH,GAjFL;;AAAA,SAmFI,UAnFJ,GAmFI,oBAAW,MAAX,EAAyB;AACrB,QAAI,OAAO,GAAQ,QAAQ,CAAC,aAAT,CAAuB,sBAAvB,CAAnB;;AACA,IAAA,WAAU,CAAC,OAAD,EAAU,MAAV,CAAV;;AACA,SAAK,KAAL,CAAW,YAAX,EAAyB,OAAO,CAAC,KAAjC;AACH,GAvFL;;AAAA,SAyFI,SAzFJ,GAyFI,mBAAU,IAAV,EAAmB;AACf,QAAM,UAAU,GAAQ,QAAQ,CAAC,aAAT,CAAuB,cAAvB,CAAxB;AACA,QAAM,cAAc,GAAQ,QAAQ,CAAC,aAAT,CAAuB,mBAAvB,CAA5B;;AACA,YAAQ,IAAR;AACI,WAAK,SAAL;AACI,QAAA,cAAc,CAAC,KAAf,CAAqB,KAArB,GAA6B,KAA7B;AACA;;AACJ,WAAK,OAAL;AACI,QAAA,cAAc,CAAC,KAAf,CAAqB,KAArB,GAA6B,MAA7B;AACA;;AACJ,WAAK,MAAL;AACI,QAAA,cAAc,CAAC,KAAf,CAAqB,KAArB,GAA6B,GAA7B;AACA;;AACJ,WAAK,MAAL;AACI,YAAI,UAAU,CAAC,KAAX,CAAiB,QAAjB,KAA8B,OAAlC,EAA2C;AACvC,cAAM,MAAM,GAAQ,KAAK,OAAzB;AACA,UAAA,UAAU,CAAC,KAAX,CAAiB,OAAjB,yCACa,MAAM,CAAC,KADpB,2CAEc,MAAM,CAAC,MAFrB;AAIH,SAND,MAMO;AACH,UAAA,UAAU,CAAC,KAAX,CAAiB,OAAjB;AASH;;AACD;AA5BR;AA8BH,GA1HL;;AAAA,SA4HI,OA5HJ,GA4HI,mBAAO;AAAA;;AACH,QAAI,IAAI,GAAQ,QAAQ,CAAC,aAAT,CAAuB,iBAAvB,CAAhB;AACA,IAAA,IAAI,CAAC,gBAAL,CAAsB,WAAtB,EAAmC,UAAC,GAAD,EAAa;AAC5C,UAAI,GAAG,CAAC,MAAJ,CAAW,OAAX,IAAsB,GAA1B,EAA+B;AAC3B,QAAA,GAAG,CAAC,MAAJ,CAAW,KAAX,CAAiB,KAAjB,GAAyB,KAAI,CAAC,UAA9B;AACH;AACJ,KAJD;AAKA,IAAA,IAAI,CAAC,gBAAL,CAAsB,UAAtB,EAAkC,UAAC,GAAD,EAAa;AAC3C,UAAI,GAAG,CAAC,MAAJ,CAAW,OAAX,IAAsB,GAA1B,EAA+B;AAC3B,QAAA,GAAG,CAAC,MAAJ,CAAW,KAAX,CAAiB,KAAjB,GAAyB,EAAzB;AACH;AACJ,KAJD;AAKH,GAxIL;;AAAA;AAAA;AAAA,wBAcmB;AACX,UAAI,KAAK,MAAL,KAAgB,SAApB,EAA+B;AAC3B,eAAO,SAAP;AACH,OAFD,MAEO;AACH,eAAO,KAAK,MAAZ;AACH;AACJ;AApBL;;AAAA;AAAA,EAAkC,GAAlC,CAAA;;AAMO,OAAA,CAAA,UAAA,CAAA,CALF,IAAI,CAAC;AACF,EAAA,IAAI,EAAE,QADJ;AACc,EAAA,OADd,sBACqB;AACnB,WAAO,YAAK,CACX,CADD;AAEH;AAJC,CAAD,CAKF,CAAA,E,cAAA,E,aAAA,E,KAAiB,CAAjB;;AACyB,OAAA,CAAA,UAAA,CAAA,CAA3B,IAAI,CAAC;AAAC,EAAA,OAAO,EAAE;AAAV,CAAD,CAAuB,CAAA,E,cAAA,E,QAAA,E,KAAe,CAAf;;AACU,OAAA,CAAA,UAAA,CAAA,CAArC,IAAI,CAAC;AAAC,EAAA,OAAO,EAAE;AAAV,CAAD,CAAiC,CAAA,E,cAAA,E,YAAA,E,KAAmB,CAAnB;;AACV,OAAA,CAAA,UAAA,CAAA,CAA3B,IAAI,CAAC;AAAC,EAAA,OAAO,EAAE;AAAV,CAAD,CAAuB,CAAA,E,cAAA,E,WAAA,E,KAAkB,CAAlB;;AACA,OAAA,CAAA,UAAA,CAAA,CAA3B,IAAI,CAAC;AAAC,EAAA,OAAO,EAAE;AAAV,CAAD,CAAuB,CAAA,E,cAAA,E,YAAA,E,KAAmB,CAAnB;;AACpB,OAAA,CAAA,UAAA,CAAA,CAAP,IAAI,EAAG,CAAA,E,cAAA,E,UAAA,E,KAAiB,CAAjB;;AAXS,IAAI,GAAA,OAAA,CAAA,UAAA,CAAA,CADxB,SAAS,CAAC;AAAC,EAAA,UAAU,EAAE;AAAC,IAAA,gBAAgB,EAAhB,gBAAD;AAAmB,IAAA,kBAAkB,EAAlB;AAAnB;AAAb,CAAD,CACe,CAAA,EAAJ,IAAI,CAAJ;eAAA,I","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue, Component, Prop} from \"vue-property-decorator\";\nimport VmMarkdownButton from \"./vm-markdown-button.vue\";\nimport VmMarkdownDropdown from \"./vm-markdown-dropdown.vue\";\nimport insertText from \"./utils/index.js\";\n\n@Component({components: {VmMarkdownButton, VmMarkdownDropdown}})\nexport default class Name extends Vue {\n    @Prop({\n        type: Function, default() {\n            return () => {\n            };\n        }\n    }) uploadImage: any;\n    @Prop({default: \"#fafbfc\"}) bgMenu: string;\n    @Prop({default: \"1px solid #eeeff1\"}) menuBorder: string;\n    @Prop({default: \"#858585\"}) menuColor: string;\n    @Prop({default: \"#232323\"}) hoverColor: string;\n    @Prop() markdwon: string;\n\n\n    get filterColor(): string {\n        if (this.bgMenu === \"#fafbfc\") {\n            return \"#232323\";\n        } else {\n            return this.bgMenu;\n        }\n    }\n\n    protected updataImg() {\n        this.$prompt(\"请输入图片地址\", \"提示\", {\n            confirmButtonText: \"确定\",\n            cancelButtonText: \"取消\",\n        }).then(({value}: any) => {\n            const imgUrl = `![image](${value}#width-full)`;\n            let content: any = document.querySelector(\".vm-markdown-content\");\n            insertText(content, imgUrl);\n        }).catch(() => {\n            console.log(\"取消输入\");\n        });\n    }\n\n    // async insertImage(e: any) {\n    //     console.log(e);\n    //     const $target = e.target || e.srcElement;\n    //     console.log($target);\n    //     const file = $target.files[0];\n    //     console.log(file);\n    //\n    //     const type = file.type.split(\"/\")[0];\n    //     console.log(type);\n    //     // console.log(type);\n    //     if (type != \"image\") {\n    //         console.log(\"请上传图片\");\n    //         return;\n    //     }\n    //     const size = Math.round(file.size / 1024 / 1024);\n    //     console.log(size);\n    //     if (size > 3) {\n    //         alert(\"图片大小不得超过3M\");\n    //         return;\n    //     }\n    //\n    //     const reader = new FileReader();\n    //     reader.readAsDataURL(file);\n    //     // const that = this;\n    //     reader.onload = (e: any) => {\n    //         console.log(e.currentTarget.result);\n    //         const imgUrl = `![image](${file.name})`;\n    //         let content: any = document.querySelector(\".vm-markdown-content\");\n    //         insertText(content, imgUrl);\n    //     };\n    //\n    //     // if (!files.length) {\n    //     //     console.log(\"sss\");\n    //     //     return;\n    //     // }\n    //     // let imgUrl = await this.uploadImage(file);\n    //     // console.log(imgUrl);\n    //     // imgUrl = `![image](${imgUrl})`;\n    //     // this.insertText(imgUrl);\n    // }\n\n    /**\n     * 文章发布\n     */\n    goPublish() {\n        this.$emit(\"publish\", this.markdwon);\n    }\n\n    insertText(string: string) {\n        let content: any = document.querySelector(\".vm-markdown-content\");\n        insertText(content, string);\n        this.$emit(\"textChange\", content.value);\n    }\n\n    setLayout(type: any) {\n        const VmMarkdown: any = document.querySelector(\".vm-markdown\");\n        const VmMarkdownEdit: any = document.querySelector(\".vm-markdown-edit\");\n        switch (type) {\n            case \"default\":\n                VmMarkdownEdit.style.width = \"50%\";\n                break;\n            case \"right\":\n                VmMarkdownEdit.style.width = \"100%\";\n                break;\n            case \"left\":\n                VmMarkdownEdit.style.width = \"0\";\n                break;\n            case \"zoom\":\n                if (VmMarkdown.style.position === \"fixed\") {\n                    const parent: any = this.$parent;\n                    VmMarkdown.style.cssText = `\n                        width: ${parent.width};\n                        height: ${parent.height};\n                    `;\n                } else {\n                    VmMarkdown.style.cssText = `\n                        position: fixed;\n                        z-index: 999;\n                        left: 0;\n                        top: 0;\n                        margin: 0;\n                        width: 100%;\n                        height: 100%;\n                    `;\n                }\n                break;\n        }\n    }\n\n    mounted() {\n        let menu: any = document.querySelector(\".vm-editor-menu\");\n        menu.addEventListener(\"mouseover\", (evt: any) => {\n            if (evt.target.tagName == \"I\") {\n                evt.target.style.color = this.hoverColor;\n            }\n        });\n        menu.addEventListener(\"mouseout\", (evt: any) => {\n            if (evt.target.tagName == \"I\") {\n                evt.target.style.color = \"\";\n            }\n        });\n    }\n}\n"],"sourceRoot":""}]}