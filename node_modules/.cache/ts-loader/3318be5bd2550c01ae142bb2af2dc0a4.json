{"remainingRequest":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js??ref--13-2!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue","mtime":1564589000000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.define-property\";\nimport * as tslib_1 from \"tslib\";\nimport { Vue, Component, Prop } from 'vue-property-decorator';\nimport VmMarkdownButton from \"./vm-markdown-button.vue\";\nimport VmMarkdownDropdown from \"./vm-markdown-dropdown.vue\";\nimport insertText from \"./utils/index.js\";\n\nvar Name =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Name, _super);\n\n  function Name() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Name.prototype, \"filterColor\", {\n    get: function get() {\n      if (this.bgMenu === '#fafbfc') {\n        return '#232323';\n      } else {\n        return this.bgMenu;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Name.prototype.insertImage = function (e) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var files, file, imgUrl;\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            files = e.target.files || e.dataTransfer.files;\n            file = files[0];\n            if (!files.length) return [2\n            /*return*/\n            ];\n            return [4\n            /*yield*/\n            , this.uploadImage(file)];\n\n          case 1:\n            imgUrl = _a.sent();\n            imgUrl = \"![image](\" + imgUrl + \")\";\n            this.insertText(imgUrl);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n  /**\n   * 文章发布\n   */\n\n\n  Name.prototype.goPublish = function () {\n    console.log(this.markdwon);\n  };\n\n  Name.prototype.insertText = function (string) {\n    var content = document.querySelector('.vm-markdown-content');\n    insertText(content, string);\n    this.$emit('textChange', content.value);\n  };\n\n  Name.prototype.uploadTable = function (content) {\n    this.$emit('textChange', content);\n  };\n\n  Name.prototype.setLayout = function (type) {\n    var VmMarkdown = document.querySelector('.vm-markdown');\n    var VmMarkdownEdit = document.querySelector('.vm-markdown-edit');\n\n    switch (type) {\n      case 'default':\n        VmMarkdownEdit.style.width = '50%';\n        break;\n\n      case 'right':\n        VmMarkdownEdit.style.width = '100%';\n        break;\n\n      case 'left':\n        VmMarkdownEdit.style.width = '0';\n        break;\n\n      case 'zoom':\n        if (VmMarkdown.style.position === 'fixed') {\n          var parent = this.$parent;\n          VmMarkdown.style.cssText = \"\\n                        width: \" + parent.width + \";\\n                        height: \" + parent.height + \";\\n                    \";\n        } else {\n          VmMarkdown.style.cssText = \"\\n                        position: fixed;\\n                        z-index: 999;\\n                        left: 0;\\n                        top: 0;\\n                        margin: 0;\\n                        width: 100%;\\n                        height: 100%;\\n                    \";\n        }\n\n        break;\n    }\n  };\n\n  Name.prototype.mounted = function () {\n    var _this = this;\n\n    var menu = document.querySelector('.vm-editor-menu');\n    menu.addEventListener('mouseover', function (evt) {\n      if (evt.target.tagName == 'I') {\n        evt.target.style.color = _this.hoverColor;\n      }\n    });\n    menu.addEventListener('mouseout', function (evt) {\n      if (evt.target.tagName == 'I') {\n        evt.target.style.color = '';\n      }\n    });\n  };\n\n  tslib_1.__decorate([Prop({\n    type: Function,\n    default: function _default() {\n      return function () {};\n    }\n  })], Name.prototype, \"uploadImage\", void 0);\n\n  tslib_1.__decorate([Prop({\n    default: \"#fafbfc\"\n  })], Name.prototype, \"bgMenu\", void 0);\n\n  tslib_1.__decorate([Prop({\n    default: \"1px solid #eeeff1\"\n  })], Name.prototype, \"menuBorder\", void 0);\n\n  tslib_1.__decorate([Prop({\n    default: \"#858585\"\n  })], Name.prototype, \"menuColor\", void 0);\n\n  tslib_1.__decorate([Prop({\n    default: \"#232323\"\n  })], Name.prototype, \"hoverColor\", void 0);\n\n  tslib_1.__decorate([Prop()], Name.prototype, \"markdwon\", void 0);\n\n  Name = tslib_1.__decorate([Component({\n    components: {\n      VmMarkdownButton: VmMarkdownButton,\n      VmMarkdownDropdown: VmMarkdownDropdown\n    }\n  })], Name);\n  return Name;\n}(Vue);\n\nexport default Name;",{"version":3,"sources":["/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue, Component,Prop} from 'vue-property-decorator'\nimport VmMarkdownButton from './vm-markdown-button.vue'\nimport VmMarkdownDropdown from './vm-markdown-dropdown.vue'\nimport insertText from './utils/index.js'\n\n@Component({components: {VmMarkdownButton,VmMarkdownDropdown}})\nexport default class Name extends Vue {\n    @Prop({\n        type: Function, default() {\n            return () => {\n            };\n        }\n    }) uploadImage: any;\n    @Prop({default: \"#fafbfc\"}) bgMenu: string;\n    @Prop({default: \"1px solid #eeeff1\"}) menuBorder: string;\n    @Prop({default: \"#858585\"}) menuColor: string;\n    @Prop({default: \"#232323\"}) hoverColor: string;\n    @Prop()markdwon:string;\n\n\n    get filterColor():string {\n        if (this.bgMenu === '#fafbfc') {\n            return '#232323'\n        } else {\n            return this.bgMenu\n        }\n    }\n\n    async insertImage(e:any){\n        const files = e.target.files || e.dataTransfer.files;\n        const file = files[0];\n        if (!files.length)\n            return;\n        let imgUrl = await this.uploadImage(file);\n        imgUrl = `![image](${imgUrl})`;\n        this.insertText(imgUrl)\n    }\n\n    /**\n     * 文章发布\n     */\n    goPublish(){\n        console.log(this.markdwon);\n    }\n\n    insertText(string:string) {\n        let content:any = document.querySelector('.vm-markdown-content');\n        insertText(content, string);\n        this.$emit('textChange', content.value)\n    }\n\n    uploadTable(content:any) {\n        this.$emit('textChange', content)\n    }\n\n    setLayout(type:any) {\n        const VmMarkdown:any = document.querySelector('.vm-markdown');\n        const VmMarkdownEdit:any = document.querySelector('.vm-markdown-edit');\n        switch (type) {\n            case 'default':\n                VmMarkdownEdit.style.width = '50%';\n                break;\n            case 'right':\n                VmMarkdownEdit.style.width = '100%';\n                break;\n            case 'left':\n                VmMarkdownEdit.style.width = '0';\n                break;\n            case 'zoom':\n                if (VmMarkdown.style.position === 'fixed') {\n                    const parent:any = this.$parent;\n                    VmMarkdown.style.cssText = `\n                        width: ${parent.width};\n                        height: ${parent.height};\n                    `\n                } else {\n                    VmMarkdown.style.cssText = `\n                        position: fixed;\n                        z-index: 999;\n                        left: 0;\n                        top: 0;\n                        margin: 0;\n                        width: 100%;\n                        height: 100%;\n                    `\n                }\n                break\n        }\n    }\n\n    mounted() {\n        let menu:any = document.querySelector('.vm-editor-menu');\n        menu.addEventListener('mouseover', (evt:any) => {\n            if (evt.target.tagName == 'I') {\n                evt.target.style.color = this.hoverColor\n            }\n        });\n        menu.addEventListener('mouseout', (evt:any) => {\n            if (evt.target.tagName == 'I') {\n                evt.target.style.color = ''\n            }\n        })\n    }\n}\n"],"sourceRoot":""}]}