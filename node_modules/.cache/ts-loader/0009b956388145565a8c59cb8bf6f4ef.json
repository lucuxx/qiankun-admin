{"remainingRequest":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js??ref--13-2!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/views/edit/AsideNav.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/views/edit/AsideNav.vue","mtime":1565174085167},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport \"regenerator-runtime/runtime\";\nimport _createClass from \"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inheritsLoose from \"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport * as tslib_1 from \"tslib\";\nimport { Vue, Component } from \"vue-property-decorator\";\nimport moment from \"moment\";\nimport marked from \"marked\";\nimport { Getter, Action } from \"vuex-class\";\n\nvar AsideNav =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inheritsLoose(AsideNav, _Vue);\n\n  function AsideNav() {\n    var _this;\n\n    _this = _Vue.apply(this, arguments) || this;\n    _this.activeName = 0;\n    _this.articleIndex = 0;\n    return _this;\n  } // mounted(){\n  //     console.log(this.articleClass);\n  // }\n\n\n  var _proto = AsideNav.prototype;\n\n  // 设置文章类型\n  // protected changeTabs(i: Types.ArticleClass, item: any) {\n  //     const params = {\n  //         _id: item._id,\n  //         tags: i.label,\n  //         on: false,\n  //     };\n  //     this.$api.updateArticle(params).then((req: any) => {\n  //         setTimeout(() => {\n  //             this.$message({\n  //                 type: req.data.code === 0 ? \"success\" : \"error\",\n  //                 message: \"设置分类成功\"\n  //             });\n  //             this.getArticleInfo(req.data.data);\n  //         }, 1000);\n  //     });\n  //\n  // }\n  // 删除文章\n  _proto.deleteArticle = function deleteArticle(article) {\n    return tslib_1.__awaiter(this, void 0, void 0,\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var _data, code, data;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$api.deleteArticle({\n                _id: article._id\n              });\n\n            case 2:\n              _data = _context.sent.data;\n              code = _data.code;\n              data = _data.data;\n              this.$message({\n                type: code === 0 ? \"success\" : \"error\",\n                message: data.message\n              });\n\n              if (code === 0) {\n                this.getArticleInfo(data.data);\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n  } // 添加文章\n  ;\n\n  _proto.addArticle = function addArticle() {\n    var _this2 = this;\n\n    marked.setOptions({\n      renderer: new marked.Renderer(),\n      gfm: true,\n      tables: true,\n      breaks: true,\n      pedantic: false,\n      sanitize: false,\n      smartLists: true,\n      smartypants: false\n    });\n    var params = {\n      title: moment().format(\"YYYY-MM-DD\") || \"\",\n      time: moment().format(\"YYYY-MM-DD\") || \"\",\n      tags: this.articleClass[this.activeName].label,\n      content: marked(\"# \" + moment().format(\"YYYY-MM-DD\")) || \"\",\n      contentMD: \"# \" + moment().format(\"YYYY-MM-DD\") || \"\" // markdown\n\n    };\n    this.$api.addArticle(params).then(function (req) {\n      return tslib_1.__awaiter(_this2, void 0, void 0,\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.$message({\n                  type: req.data.code === 0 ? \"success\" : \"error\",\n                  message: req.data.data.message\n                });\n\n                if (req.data.code === 0) {\n                  this.getArticleInfo(req.data.data.data);\n                }\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    });\n  } // 切换当前文章\n  ;\n\n  _proto.changeArticle = function changeArticle(item, id) {\n    console.log(item);\n    console.log(id);\n    this.articleIndex = id;\n    this.changeCurrentArticle(item);\n  };\n\n  _createClass(AsideNav, [{\n    key: \"articleClass\",\n    get: function get() {\n      var _this3 = this;\n\n      if (this.$lo.isEmpty(this.articleInfo)) return [];\n      var classArr = [{\n        label: \"前端技术\",\n        icon: \"\",\n        content: []\n      }, {\n        label: \"生活情感\",\n        icon: \"\",\n        content: []\n      }, {\n        label: \"日常吐槽\",\n        icon: \"\",\n        content: []\n      }, {\n        label: \"语言艺术\",\n        icon: \"\",\n        content: []\n      }];\n      this.$lo.each(this.articleInfo, function (item) {\n        var index = _this3.$lo.findIndex(classArr, function (i) {\n          return i.label === item.tags;\n        });\n\n        classArr[index].content.push(item);\n      });\n      return classArr;\n    }\n  }]);\n\n  return AsideNav;\n}(Vue);\n\ntslib_1.__decorate([Getter], AsideNav.prototype, \"articleInfo\", void 0);\n\ntslib_1.__decorate([Getter], AsideNav.prototype, \"currentArticle\", void 0);\n\ntslib_1.__decorate([Action], AsideNav.prototype, \"getArticleInfo\", void 0);\n\ntslib_1.__decorate([Action], AsideNav.prototype, \"changeCurrentArticle\", void 0);\n\nAsideNav = tslib_1.__decorate([Component], AsideNav);\nexport default AsideNav;",{"version":3,"sources":["/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/views/edit/AsideNav.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue, Component} from \"vue-property-decorator\";\nimport moment from \"moment\";\nimport marked from \"marked\";\nimport {Getter, Action} from \"vuex-class\";\n\n\n@Component\nexport default class AsideNav extends Vue {\n    @Getter articleInfo: any;           // 所有文章信息\n    @Getter currentArticle: any;       // 当前选中文章\n    @Action getArticleInfo: any;        // 存储文章信息\n    @Action changeCurrentArticle: any;    // 存储当前文章\n    activeName: number = 0;\n    articleIndex:number = 0;\n\n\n    // mounted(){\n    //     console.log(this.articleClass);\n    // }\n\n    get articleClass() {\n        if(this.$lo.isEmpty(this.articleInfo))return [];\n        const classArr: Array<Types.ArticleClass> = [\n            {label: \"前端技术\", icon: \"\", content: []},\n            {label: \"生活情感\", icon: \"\", content: []},\n            {label: \"日常吐槽\", icon: \"\", content: []},\n            {label: \"语言艺术\", icon: \"\", content: []},\n        ];\n        this.$lo.each(this.articleInfo, (item: any) => {\n            const index = this.$lo.findIndex(classArr, (i: any) => i.label === item.tags);\n            classArr[index].content.push(item);\n        });\n        return classArr;\n    }\n\n    // 设置文章类型\n    // protected changeTabs(i: Types.ArticleClass, item: any) {\n    //     const params = {\n    //         _id: item._id,\n    //         tags: i.label,\n    //         on: false,\n    //     };\n    //     this.$api.updateArticle(params).then((req: any) => {\n    //         setTimeout(() => {\n    //             this.$message({\n    //                 type: req.data.code === 0 ? \"success\" : \"error\",\n    //                 message: \"设置分类成功\"\n    //             });\n    //             this.getArticleInfo(req.data.data);\n    //         }, 1000);\n    //     });\n    //\n    // }\n\n    // 删除文章\n    protected async deleteArticle(article: any) {\n        const {code, data} = (await this.$api.deleteArticle({_id: article._id})).data;\n        this.$message({\n            type: code === 0 ? \"success\" : \"error\",\n            message: data.message\n        });\n        if (code === 0) {\n            this.getArticleInfo(data.data);\n        }\n    }\n\n    // 添加文章\n    protected addArticle(): void {\n        marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: true,\n            pedantic: false,\n            sanitize: false,\n            smartLists: true,\n            smartypants: false\n        });\n        const params = {\n            title: moment().format(\"YYYY-MM-DD\") || \"\",\n            time: moment().format(\"YYYY-MM-DD\") || \"\",\n            tags: this.articleClass[this.activeName].label,\n            content: marked(`# ${moment().format(\"YYYY-MM-DD\")}`) || \"\", // 转换过后的html\n            contentMD: `# ${moment().format(\"YYYY-MM-DD\")}` || \"\" // markdown\n        };\n        this.$api.addArticle(params).then(async (req: Types.InterfaceData) => {\n            this.$message({\n                type: req.data.code === 0 ? \"success\" : \"error\",\n                message: req.data.data.message\n            });\n            if (req.data.code === 0) {\n                this.getArticleInfo(req.data.data.data);\n            }\n        });\n\n    }\n\n    // 切换当前文章\n    protected changeArticle(item: any,id: number): void {\n        console.log(item);\n        console.log(id);\n        this.articleIndex = id;\n        this.changeCurrentArticle(item);\n    }\n}\n"],"sourceRoot":""}]}