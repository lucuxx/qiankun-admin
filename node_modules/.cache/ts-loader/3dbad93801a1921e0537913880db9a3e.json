{"remainingRequest":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js??ref--13-2!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue","mtime":1564589000000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _createClass from \"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inheritsLoose from \"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/@babel/runtime-corejs2/helpers/esm/inheritsLoose\";\nimport * as tslib_1 from \"tslib\";\nimport { Vue, Component, Prop } from 'vue-property-decorator';\nimport VmMarkdownButton from \"./vm-markdown-button.vue\";\nimport VmMarkdownDropdown from \"./vm-markdown-dropdown.vue\";\nimport _insertText from \"./utils/index.js\";\n\nvar Name =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inheritsLoose(Name, _Vue);\n\n  function Name() {\n    return _Vue.apply(this, arguments) || this;\n  }\n\n  var _proto = Name.prototype;\n\n  _proto.insertImage = function insertImage(e) {\n    return tslib_1.__awaiter(this, void 0, void 0,\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var files, file, imgUrl;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              files = e.target.files || e.dataTransfer.files;\n              file = files[0];\n\n              if (files.length) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 4:\n              _context.next = 6;\n              return this.uploadImage(file);\n\n            case 6:\n              imgUrl = _context.sent;\n              imgUrl = \"![image](\" + imgUrl + \")\";\n              this.insertText(imgUrl);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n  }\n  /**\n   * 文章发布\n   */\n  ;\n\n  _proto.goPublish = function goPublish() {\n    console.log(this.markdwon);\n  };\n\n  _proto.insertText = function insertText(string) {\n    var content = document.querySelector('.vm-markdown-content');\n\n    _insertText(content, string);\n\n    this.$emit('textChange', content.value);\n  };\n\n  _proto.uploadTable = function uploadTable(content) {\n    this.$emit('textChange', content);\n  };\n\n  _proto.setLayout = function setLayout(type) {\n    var VmMarkdown = document.querySelector('.vm-markdown');\n    var VmMarkdownEdit = document.querySelector('.vm-markdown-edit');\n\n    switch (type) {\n      case 'default':\n        VmMarkdownEdit.style.width = '50%';\n        break;\n\n      case 'right':\n        VmMarkdownEdit.style.width = '100%';\n        break;\n\n      case 'left':\n        VmMarkdownEdit.style.width = '0';\n        break;\n\n      case 'zoom':\n        if (VmMarkdown.style.position === 'fixed') {\n          var parent = this.$parent;\n          VmMarkdown.style.cssText = \"\\n                        width: \" + parent.width + \";\\n                        height: \" + parent.height + \";\\n                    \";\n        } else {\n          VmMarkdown.style.cssText = \"\\n                        position: fixed;\\n                        z-index: 999;\\n                        left: 0;\\n                        top: 0;\\n                        margin: 0;\\n                        width: 100%;\\n                        height: 100%;\\n                    \";\n        }\n\n        break;\n    }\n  };\n\n  _proto.mounted = function mounted() {\n    var _this = this;\n\n    var menu = document.querySelector('.vm-editor-menu');\n    menu.addEventListener('mouseover', function (evt) {\n      if (evt.target.tagName == 'I') {\n        evt.target.style.color = _this.hoverColor;\n      }\n    });\n    menu.addEventListener('mouseout', function (evt) {\n      if (evt.target.tagName == 'I') {\n        evt.target.style.color = '';\n      }\n    });\n  };\n\n  _createClass(Name, [{\n    key: \"filterColor\",\n    get: function get() {\n      if (this.bgMenu === '#fafbfc') {\n        return '#232323';\n      } else {\n        return this.bgMenu;\n      }\n    }\n  }]);\n\n  return Name;\n}(Vue);\n\ntslib_1.__decorate([Prop({\n  type: Function,\n  default: function _default() {\n    return function () {};\n  }\n})], Name.prototype, \"uploadImage\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: \"#fafbfc\"\n})], Name.prototype, \"bgMenu\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: \"1px solid #eeeff1\"\n})], Name.prototype, \"menuBorder\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: \"#858585\"\n})], Name.prototype, \"menuColor\", void 0);\n\ntslib_1.__decorate([Prop({\n  default: \"#232323\"\n})], Name.prototype, \"hoverColor\", void 0);\n\ntslib_1.__decorate([Prop()], Name.prototype, \"markdwon\", void 0);\n\nName = tslib_1.__decorate([Component({\n  components: {\n    VmMarkdownButton: VmMarkdownButton,\n    VmMarkdownDropdown: VmMarkdownDropdown\n  }\n})], Name);\nexport default Name;",{"version":3,"sources":["/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/components/MarkDown/vm-markdown-menu.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue, Component,Prop} from 'vue-property-decorator'\nimport VmMarkdownButton from './vm-markdown-button.vue'\nimport VmMarkdownDropdown from './vm-markdown-dropdown.vue'\nimport insertText from './utils/index.js'\n\n@Component({components: {VmMarkdownButton,VmMarkdownDropdown}})\nexport default class Name extends Vue {\n    @Prop({\n        type: Function, default() {\n            return () => {\n            };\n        }\n    }) uploadImage: any;\n    @Prop({default: \"#fafbfc\"}) bgMenu: string;\n    @Prop({default: \"1px solid #eeeff1\"}) menuBorder: string;\n    @Prop({default: \"#858585\"}) menuColor: string;\n    @Prop({default: \"#232323\"}) hoverColor: string;\n    @Prop()markdwon:string;\n\n\n    get filterColor():string {\n        if (this.bgMenu === '#fafbfc') {\n            return '#232323'\n        } else {\n            return this.bgMenu\n        }\n    }\n\n    async insertImage(e:any){\n        const files = e.target.files || e.dataTransfer.files;\n        const file = files[0];\n        if (!files.length)\n            return;\n        let imgUrl = await this.uploadImage(file);\n        imgUrl = `![image](${imgUrl})`;\n        this.insertText(imgUrl)\n    }\n\n    /**\n     * 文章发布\n     */\n    goPublish(){\n        console.log(this.markdwon);\n    }\n\n    insertText(string:string) {\n        let content:any = document.querySelector('.vm-markdown-content');\n        insertText(content, string);\n        this.$emit('textChange', content.value)\n    }\n\n    uploadTable(content:any) {\n        this.$emit('textChange', content)\n    }\n\n    setLayout(type:any) {\n        const VmMarkdown:any = document.querySelector('.vm-markdown');\n        const VmMarkdownEdit:any = document.querySelector('.vm-markdown-edit');\n        switch (type) {\n            case 'default':\n                VmMarkdownEdit.style.width = '50%';\n                break;\n            case 'right':\n                VmMarkdownEdit.style.width = '100%';\n                break;\n            case 'left':\n                VmMarkdownEdit.style.width = '0';\n                break;\n            case 'zoom':\n                if (VmMarkdown.style.position === 'fixed') {\n                    const parent:any = this.$parent;\n                    VmMarkdown.style.cssText = `\n                        width: ${parent.width};\n                        height: ${parent.height};\n                    `\n                } else {\n                    VmMarkdown.style.cssText = `\n                        position: fixed;\n                        z-index: 999;\n                        left: 0;\n                        top: 0;\n                        margin: 0;\n                        width: 100%;\n                        height: 100%;\n                    `\n                }\n                break\n        }\n    }\n\n    mounted() {\n        let menu:any = document.querySelector('.vm-editor-menu');\n        menu.addEventListener('mouseover', (evt:any) => {\n            if (evt.target.tagName == 'I') {\n                evt.target.style.color = this.hoverColor\n            }\n        });\n        menu.addEventListener('mouseout', (evt:any) => {\n            if (evt.target.tagName == 'I') {\n                evt.target.style.color = ''\n            }\n        })\n    }\n}\n"],"sourceRoot":""}]}