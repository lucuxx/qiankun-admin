{"remainingRequest":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js??ref--13-2!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/views/edit/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/views/edit/index.vue","mtime":1564976925243},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.define-property\";\nimport * as tslib_1 from \"tslib\";\nimport { Vue, Component } from \"vue-property-decorator\";\nimport { Getter, Action } from \"vuex-class\";\nimport \"highlight.js/styles/github.css\";\nimport hljs from \"highlight.js\";\nimport articleHeader from \"./articleHeader.vue\";\nimport moment from \"moment\";\nimport marked from \"marked\";\nimport jsCookie from \"js-cookie\";\n\nvar EditNav =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(EditNav, _super);\n\n  function EditNav() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.theme = \"default\";\n    _this.loading = false;\n    _this.articleTitle = [];\n    _this.choiceIndex = 0;\n    _this.articleClass = [{\n      label: \"前端技术\",\n      icon: \"\"\n    }, {\n      label: \"生活情感\",\n      icon: \"\"\n    }, {\n      label: \"日常吐槽\",\n      icon: \"\"\n    }, {\n      label: \"语言艺术\",\n      icon: \"\"\n    }];\n    return _this;\n  }\n\n  EditNav.prototype.mounted = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var oldCookie, cookie, _a, code, data;\n\n      var _this = this;\n\n      return tslib_1.__generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            this.loading = true;\n            if (!jsCookie.get(\"email\")) return [3\n            /*break*/\n            , 2];\n            oldCookie = jsCookie.get(\"email\") || \"\";\n            cookie = this.$util.DecodeCookie(oldCookie);\n            return [4\n            /*yield*/\n            , this.$api.getUserInfo({\n              cookie: cookie\n            })];\n\n          case 1:\n            _a = _b.sent().data, code = _a.code, data = _a.data;\n\n            if (code === 0) {\n              this.setUserInfo(data);\n            }\n\n            _b.label = 2;\n\n          case 2:\n            return [4\n            /*yield*/\n            , this.$api.getArticle().then(function (req) {\n              var data = req.data.data;\n\n              _this.$lo.each(data, function (item) {\n                console.log(item);\n                var result = {\n                  title: item.title,\n                  _id: item._id\n                };\n\n                _this.articleTitle.push(result);\n              });\n            })];\n\n          case 3:\n            _b.sent();\n\n            this.loading = false;\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  Object.defineProperty(EditNav.prototype, \"params\", {\n    get: function get() {\n      marked.setOptions({\n        renderer: new marked.Renderer(),\n        gfm: true,\n        tables: true,\n        breaks: true,\n        pedantic: false,\n        sanitize: false,\n        smartLists: true,\n        smartypants: false\n      });\n      return {\n        author: this.user.name || \"\",\n        title: moment().format(\"YYYY-MM-DD\") || \"\",\n        time: moment().format(\"YYYY-MM-DD\") || \"\",\n        tags: \"前端技术\" || \"\",\n        content: marked(\"# \" + moment().format(\"YYYY-MM-DD\")) || \"\",\n        contentMD: \"# \" + moment().format(\"YYYY-MM-DD\") || \"\" // markdown\n\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  EditNav.prototype.addArticle = function () {\n    var _this = this;\n\n    this.$api.addArticle(this.params).then(function (req) {\n      console.log(req);\n\n      _this.$message({\n        type: req.data.code === 0 ? \"success\" : \"error\",\n        message: req.data.data.message\n      });\n    });\n  };\n\n  EditNav.prototype.changeArticle = function (index) {\n    this.choiceIndex = index;\n  };\n\n  EditNav.prototype.uploadImage = function (file) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.uploadRequest(file)];\n\n          case 1:\n            return [2\n            /*return*/\n            , _a.sent()];\n        }\n      });\n    });\n  };\n\n  EditNav.prototype.changeColor = function (color) {\n    console.log(color);\n    this.theme = color;\n  };\n\n  EditNav.prototype.uploadRequest = function (file) {\n    var result = \"https://github.com/luosijie/Front-end-Blog/blob/master/img/logo_vmmarkdown_name.png?raw=true\";\n    return new Promise(function (resolve, reject) {\n      window.setTimeout(function () {\n        resolve(result);\n      }, 1000);\n    });\n  };\n\n  EditNav.prototype.htmlChange = function (html) {\n    console.log(\"html-content\", html);\n    this.$nextTick(function () {\n      var codes = document.querySelectorAll(\".markdown-body pre code\");\n      codes.forEach(function (elem) {\n        hljs.highlightBlock(elem);\n      }); // let html = document.querySelector('.markdown-body')\n    }); // get html string here\n  };\n\n  tslib_1.__decorate([Getter], EditNav.prototype, \"user\", void 0);\n\n  tslib_1.__decorate([Action], EditNav.prototype, \"setUserInfo\", void 0);\n\n  EditNav = tslib_1.__decorate([Component({\n    components: {\n      articleHeader: articleHeader\n    }\n  })], EditNav);\n  return EditNav;\n}(Vue);\n\nexport default EditNav;",{"version":3,"sources":["/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuxiang/Desktop/lxx/lxx/blob-server/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/lxx/lxx/blob-server/src/views/edit/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Vue, Component} from \"vue-property-decorator\";\nimport {Getter, Action} from \"vuex-class\";\nimport \"highlight.js/styles/github.css\";\nimport hljs from \"highlight.js\";\nimport articleHeader from \"./articleHeader.vue\";\nimport moment from \"moment\";\nimport marked from \"marked\";\nimport jsCookie from \"js-cookie\";\n\n@Component({components: {articleHeader}})\nexport default class EditNav extends Vue {\n    @Getter user: any;\n    @Action setUserInfo: any;\n    theme: string = \"default\";\n    loading:boolean = false;\n\n    articleTitle: Array<Types.ArticleTitle> = [];\n    choiceIndex: number = 0;\n\n    articleClass: Array<Types.ArticleClass> = [\n        {label: \"前端技术\", icon: \"\"},\n        {label: \"生活情感\", icon: \"\"},\n        {label: \"日常吐槽\", icon: \"\"},\n        {label: \"语言艺术\", icon: \"\"},\n    ];\n\n    async mounted() {\n        this.loading = true;\n        if (jsCookie.get(\"email\")) {\n            const oldCookie: string = jsCookie.get(\"email\") || \"\";\n            const cookie: string = this.$util.DecodeCookie(oldCookie);\n            const {code, data} = (await this.$api.getUserInfo({cookie})).data;\n            if (code === 0) {\n                this.setUserInfo(data);\n            }\n        }\n        await this.$api.getArticle().then((req: any) => {\n            const data = req.data.data;\n            this.$lo.each(data,(item:Types.ArticleTitle) => {\n                console.log(item);\n                const result = {title: item.title,_id:item._id};\n                this.articleTitle.push(result)\n            })\n        });\n        this.loading = false\n    }\n\n    get params():Types.ArticleParams {\n        marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: true,\n            pedantic: false,\n            sanitize: false,\n            smartLists: true,\n            smartypants: false\n        });\n        return {\n            author: this.user.name || \"\",\n            title: moment().format(\"YYYY-MM-DD\") || \"\",\n            time: moment().format(\"YYYY-MM-DD\") || \"\",\n            tags: \"前端技术\" || \"\",\n            content: marked(`# ${moment().format(\"YYYY-MM-DD\")}`) || \"\", // 转换过后的html\n            contentMD: `# ${moment().format(\"YYYY-MM-DD\")}` || \"\" // markdown\n        };\n    }\n\n\n    addArticle() {\n        this.$api.addArticle(this.params).then((req: Types.InterfaceData) => {\n            console.log(req);\n            this.$message({\n                type: req.data.code === 0 ? \"success\" : \"error\",\n                message: req.data.data.message\n            });\n        });\n\n    }\n\n    changeArticle(index: number): void {\n        this.choiceIndex = index;\n    }\n\n    async uploadImage(file: any) {\n        return await this.uploadRequest(file);\n    }\n\n    changeColor(color: string) {\n        console.log(color);\n        this.theme = color;\n    }\n\n    uploadRequest(file: any) {\n        const result = \"https://github.com/luosijie/Front-end-Blog/blob/master/img/logo_vmmarkdown_name.png?raw=true\";\n        return new Promise((resolve, reject) => {\n            window.setTimeout(() => {\n                resolve(result);\n            }, 1000);\n        });\n    }\n\n    htmlChange(html: string) {\n        console.log(\"html-content\", html);\n        this.$nextTick(() => {\n            const codes = document.querySelectorAll(\".markdown-body pre code\");\n            codes.forEach(elem => {\n                hljs.highlightBlock(elem);\n            });\n            // let html = document.querySelector('.markdown-body')\n        });\n        // get html string here\n    }\n\n}\n"],"sourceRoot":""}]}