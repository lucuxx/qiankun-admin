{"remainingRequest":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuxiang/Desktop/typescript-vue-demo/src/views/comment/commentContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/src/views/comment/commentContent.vue","mtime":1559818186142},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuxiang/Desktop/typescript-vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport {Vue, Component, Prop} from 'vue-property-decorator'\nimport {Getter} from 'vuex-class'\n\n@Component\nexport default class comment extends Vue {\n    @Getter user\n    reply = ''\n    loading = true\n\n    @Prop(Array)body\n    defaultUrl = 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3913721637,490556209&fm=27&gp=0.jpg'\n\n\n\n    // 发送回复信息\n    goSendReply(item) {\n        item.isReply = false\n        const params = {\n            time: this.moment().format('YYYY-MM-DD'),\n            value: `@${item.userName},${this.reply}`,\n            userName: this.user.name,\n            url: !!this.user.url ? this.user.url : this.defaultUrl,\n            os: this.Os,\n            browse: this.Browse,\n            isReply: false,\n        }\n        this.$api.sendReply({id: item.id, reply: params}).then(req => {\n            this.$message({\n                type: req.data.code === 200 ? 'success' : 'error',\n                message: req.data.data\n            })\n            this.$emit('success', this.loading)\n            this.reply = null\n        })\n    }\n\n\n    goReply(item, i) {\n        i.isReply = false\n        const params = {\n            time: this.moment().format('YYYY-MM-DD'),\n            value: `@${i.userName},${this.reply}`,\n            userName: this.user.name,\n            url: !!this.user.url ? this.user.url : this.defaultUrl,\n            os: this.Os,\n            browse: this.Browse,\n            isReply: false,\n        }\n        this.$api.sendReply({id: item.id, reply: params}).then(req => {\n            this.$message({\n                type: req.data.code === 200 ? 'success' : 'error',\n                message: req.data.data\n            })\n            this.$emit('success', true)\n            this.reply = null\n        })\n    }\n}\n",{"version":3,"sources":["commentContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"commentContent.vue","sourceRoot":"src/views/comment","sourcesContent":["<template>\n    <section class=\"commentContent\">\n        <div v-for=\"(item,index) in body\" :key=\"index\" class=\"text item\">\n            <section class=\"flex\">\n                <div class=\"heightAdapt left\">\n                    <img class=\"img\" :src=\"item.url\" alt=\"\">\n                </div>\n                <div class=\"right\">\n                    <section class=\"head\">\n                        <p class=\"top\">\n                            <span class=\"head_meg\">{{ item.userName }}</span>\n                            <span class=\"os\">{{ item.Os }}</span>\n                            <span class=\"os\">{{ item.browse }}</span>\n                        </p>\n                        <p class=\"bottom\">\n                            <span>{{ item.time }}</span>\n                            <el-button type=\"text\" class=\"floatRight\" @click.native=\"item.isReply = !item.isReply\">回复\n                            </el-button>\n                        </p>\n                    </section>\n                    <section class=\"content\">\n                        <p style=\"text-indent: 25px;\">{{ item.value }}</p>\n                    </section>\n                    <section class=\"content\" v-show=\"item.isReply\">\n                        <el-input\n                                style=\"width: 100%;\"\n                                type=\"textarea\"\n                                :autosize=\"{ minRows: 5}\"\n                                placeholder=\"说点什么呢...\"\n                                v-model=\"reply\">\n                        </el-input>\n                        <el-button style=\"display: block;margin-top: 10px;width: 80px\" type=\"primary\"\n                                   @click=\"goSendReply(item)\">发送\n                        </el-button>\n                    </section>\n                    <section class=\"content\">\n                        <section v-if=\"item.reply && !_.isEmpty(item.reply)\">\n                            <div v-for=\"(i,id) in item.reply\" :key=\"id\" class=\"text item\">\n                                <section class=\"flex\">\n                                    <div class=\"heightAdapt left\">\n                                        <img class=\"img\" :src=\"i.url\" alt=\"\">\n                                    </div>\n                                    <div class=\"right\">\n                                        <section class=\"head\">\n                                            <p class=\"top\">\n                                                <span class=\"head_meg\">{{ i.userName }}</span>\n                                                <span class=\"os\">{{ i.Os }}</span>\n                                                <span class=\"os\">{{ i.browse }}</span>\n                                            </p>\n                                            <p class=\"bottom\">\n                                                <span>{{ i.time }}</span>\n                                                <el-button type=\"text\" class=\"floatRight\"\n                                                           @click.native=\"i.isReply = !i.isReply\">回复\n                                                </el-button>\n                                            </p>\n                                        </section>\n                                        <section class=\"content\">\n                                            <p style=\"text-indent: 25px;\">{{ i.value }}</p>\n                                        </section>\n                                        <section class=\"content\" v-show=\"i.isReply\">\n                                            <el-input\n                                                    style=\"width: 100%;\"\n                                                    type=\"textarea\"\n                                                    :autosize=\"{ minRows: 5}\"\n                                                    placeholder=\"说点什么呢...\"\n                                                    v-model=\"reply\">\n                                            </el-input>\n                                            <el-button style=\"display: block;margin-top: 10px;width: 80px\"\n                                                       type=\"primary\"\n                                                       @click=\"goReply(item,i)\">发送\n                                            </el-button>\n                                        </section>\n                                    </div>\n                                </section>\n                            </div>\n                        </section>\n                    </section>\n                </div>\n            </section>\n        </div>\n    </section>\n</template>\n\n<script>\n\n    import {Vue, Component, Prop} from 'vue-property-decorator'\n    import {Getter} from 'vuex-class'\n\n    @Component\n    export default class comment extends Vue {\n        @Getter user\n        reply = ''\n        loading = true\n\n        @Prop(Array)body\n        defaultUrl = 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3913721637,490556209&fm=27&gp=0.jpg'\n\n\n\n        // 发送回复信息\n        goSendReply(item) {\n            item.isReply = false\n            const params = {\n                time: this.moment().format('YYYY-MM-DD'),\n                value: `@${item.userName},${this.reply}`,\n                userName: this.user.name,\n                url: !!this.user.url ? this.user.url : this.defaultUrl,\n                os: this.Os,\n                browse: this.Browse,\n                isReply: false,\n            }\n            this.$api.sendReply({id: item.id, reply: params}).then(req => {\n                this.$message({\n                    type: req.data.code === 200 ? 'success' : 'error',\n                    message: req.data.data\n                })\n                this.$emit('success', this.loading)\n                this.reply = null\n            })\n        }\n\n\n        goReply(item, i) {\n            i.isReply = false\n            const params = {\n                time: this.moment().format('YYYY-MM-DD'),\n                value: `@${i.userName},${this.reply}`,\n                userName: this.user.name,\n                url: !!this.user.url ? this.user.url : this.defaultUrl,\n                os: this.Os,\n                browse: this.Browse,\n                isReply: false,\n            }\n            this.$api.sendReply({id: item.id, reply: params}).then(req => {\n                this.$message({\n                    type: req.data.code === 200 ? 'success' : 'error',\n                    message: req.data.data\n                })\n                this.$emit('success', true)\n                this.reply = null\n            })\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    @import '../../assets/css/common.less';\n\n    .commentContent {\n        .flex {\n            display: flex;\n\n            .os {\n                color: #999999;\n                font-size: 14px;\n                display: inline-block;\n                margin-left: 20px;\n            }\n        }\n    }\n</style>"]}]}